# rust

[language-server.rust-analyzer.config]
check = { command = "clippy" }
cargo = { features = "all", "allTargets" = true }

# go

[[language]]
name = "go"
auto-format = true
formatter = { command = "gofmt" }

# elixir

[[language]]
name = "elixir"
auto-format = true

# racket

[[language]]
name = "racket"
auto-format = true

# python

[[language]]
name = "python"
auto-format = true
language-servers = [ "pyright", "ruff" ]

[language-server.ruff]
command = "ruff"
args = ["server"]

# javascript

[[language]]
name = "typescript"
auto-format = true
formatter = { command = "prettier", args = ["--parser", "typescript"] }

[[language]]
name = "tsx"
auto-format = true
formatter = { command = "prettier", args = ["--parser", "typescript"] }

[[language]]
name = "astro"
auto-format = true
formatter = { command = "prettier", args = ["--parser", "astro"] }

[[language]]
name = "markdown"
formatter = { command = "dprint", args = ["fmt", "--stdin", "md"]}

[[language]]
name = "cpp"
auto-format = true

[[language]]
name = "bash"
indent = { tab-width = 2, unit = "\t" }

[[language]]
name = "cairo"
language-servers = [ "cairo-language-server" ]

[language-server.cairo-language-server]
command = "scarb"
args = ["cairo-language-server"]

[[language]]
name = "concrete"
scope = "source.con"
injection-regex = "concrete"
file-types = ["con"]
comment-tokens = "//"
indent = { tab-width = 4, unit = "    " }
grammar = "rust"
formatter = { command = "rustfmt" }

[[language]]
name = "latex"
language-servers = [ "texlab", "ltex-ls" ]

[language-server.texlab.config.texlab.build]
executable = "tectonic"
args = [
  "-X",
  "compile",
  "%f",
  "--synctex",
  "--keep-logs",
  "--keep-intermediates",
]
onSave = true
forwardSearchAfter = true

[language-server.texlab.config.texlab.forwardSearch]
executable = "/Applications/Skim.app/Contents/SharedSupport/displayline"
args = ["-r", "-g", "%l", "%p", "%f"]
